<ui:composition xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:ajax="http://code.google.com/p/ada-asf/ajax"
                template="/WEB-INF/layouts/demo.xhtml">
    <ui:param name="title" value="#{samplesMsg.sample_ajax_page_title}" />
    <ui:param name="tab" value="facebook"/>
    <ui:param name="source_file" value="friends.xhtml"/>
    <!-- Main page body -->
    <ui:define name="demoBody">
        <div>
            <div class="awa-grid-12 ui-widget forum">
                <c:choose>
                    <c:when test="#{facebook.isAuthenticated}">
                        <h1>#{samplesMsg.demo_feeds_messages}</h1>
                        <div class='sample'>
                            <ajax:include src="facebook-feeds.html" async="true"/>
                        </div>
                        <h1>#{samplesMsg.demo_friends_messages}</h1>
                        <div class='sample'>
                            <ajax:include src="facebook-friends.html" async="true"/>
                        </div>
                    </c:when>
                    <c:otherwise>
                        <p>
                            #{samplesMsg.demo_facebook_grant}
                        </p>
                        <a href="#{facebook.authenticate_url}" title="Auth">
                            <img src="#{contextPath}/images/f_logo.png" width="140" height="140" alt="Facebook"/>
                            <span>
                                #{samplesMsg.demo_auth_facebook}
                            </span>
                            Auth with Facebook
                        </a>
                    </c:otherwise>
                </c:choose>
            </div>
        </div>
    </ui:define>
</ui:composition>
